<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>OS | DevOpsエンジニアの備忘録</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>

  <div class="site-container">

    <!-- Header -->
    <header class="site-header">
      <h1>Bash - 変数</h1>
      <p class="tagline">
        Last Updated: 2026-02-06
      </p>
    </header>

    <!-- Navigation Tabs -->
    <nav class="tabs">
      <a href="/index.html">HOME</a>
      <a href="/cloud/cloud-index.html">Cloud</a>
      <a href="/k8s/k8s-index.html" >Kubernetes</a>
      <a href="/auto/auto-index.html">Automation</a>
      <a href="/os/os-index.html" class="active">OS(Linux/Windows etc.)</a>
      <a href="/db/db-index.html">DB</a>
      <a href="/network/network-index.html">Networking</a>
      <a href="/misc/misc-index.html">Misc</a>
      <a href="/about.html">About Me</a>
    </nav>
    <!-- Article Content -->
    <main class="content">
      <article class="info-card">

        <p>Bashの基本の1つ、変数についてまとめます。</p>
        <br>
        <h2>1. Bash変数とは</h2>
        <p>筑波大学がBash変数について分かりやすくまとめてくださってますね。</p>
        <p>参考：<a href="https://www.coins.tsukuba.ac.jp/~yas/coins/literacy-2018/2018-06-08/">シェル変数、環境変数、シェル・スクリプト</a></p>
        <br>
        <p>大事なのはこのあたりでしょうか。</p>
        <blockquote>
変数 - えるためのもの。メモリを抽象化して名前をつけたもの
シェルでは、2種類の変数を使える
・シェル変数 - １つのシェル内でのみ有効
・環境変数 - 実行されるプログラム(子プロセス)に引き継がれる
  シェルがプログラムを実行する時、シェル変数はプログラムへ引き渡されないが、環境変数は渡される
        </blockquote>
        <p>シェル変数と環境変数を並列に捉えるより、シェル変数の中でも子シェルに引き継がれるものを特別に<code>環境変数</code>と呼び、そうでないものを<code>ローカル変数</code>と呼ぶと考えた方がきれいに整理できている気がします。そして、シェル関数を環境変数に昇格させる方法の1つがexportコマンドというわけですね。</p>
        <p>参考：</p>
        <ul>
        <li><a href="https://www.gnu.org/software/bash/manual/html_node/Environment.html?utm_source=chatgpt.com">3.7.4 Environment</a></li>
        <li><a href="https://www.ibm.com/docs/en/aix/7.2.0?topic=customization-exporting-shell-variables-export-shell-command">Exporting shell variables (export shell command)</a></li>
        </ul>
        <br>
        
        <h2>2. 覚えておきたい変数</h2>
        <h3>2-1. 環境変数</h3>
        <ul>
          <li><strong>$PATH</strong> - 実行ファイルを探すフォルダのリスト</li>
          <li><strong>$HOME</strong> - ユーザーのホームディレクトリ</li>
          <li><strong>$USER</strong> - ログイン中のユーザー</li>
          <li><strong>$PWD</strong> - ワーキングディレクトリ（ファイルシステム上の現在地）</li>
        </ul>
        <br>

        <h3>2-2. ローカル変数</h3>
        <ul>
          <li><strong>$PS1</strong> - コマンドプロンプトの表示</li>
          <li><strong>$RANDOM</strong> - ランダムな数字</li>
          <li><strong>$IFS</strong> - stringを分割するField Separator</li>
        </ul>
        <br>

        <h2>3. 変数の新規作成方法</h2>
        <p>変数Exampleを定義します。</p>
        <pre><code># = の周りに" "(Space)はNGです。
$ Example=example1</code></pre>
        <br>

        <h2>4. 変数の呼び出し</h2>
        <p><code>$変数名</code>または<code>${変数名}</code>で呼び出します。$だけで使うことが多い気がしますが、変数の直後に文字を続けたい場合やBashの機能を使いたい場合に${}を使います。</p>
        <pre><code>$ echo ${#Example} 
8
$ concat=${Example}_var
$ echo $concat 
example1_var</code></pre>
        <br>

        <h2>おまけ: Special Parameter</h2>
        <p>Bashにおけるパラメータには、変数の他にもSpecial Parameterなどが存在します。</p>
        <ul>
          <li><strong>$?</strong> - 最後に実行されたコマンドのexit code</li>
          <li><strong>$0</strong> - スクリプト実行時のファイル名</li>
          <li><strong>$1, $2...</strong> - スクリプトへの引数</li>
          <li><strong>$#</strong> - スクリプト実行時の引数の数</li>
        </ul>
        <p>少し脱線しますが、Bashが認識するエスケープシーケンスは\nだけなのかもしれません。というのも、<a href="https://www.gnu.org/software/bash/manual/html_node/Escape-Character.html">3.1.2.1 Escape Character</a>には\nの記載しかありません。たしかに、正規表現を除くと\wや\u, \hはPS1の文脈で聞くことが多い気がしますね。</p>
        <blockquote>A non-quoted backslash ‘\’ is the Bash escape character. It preserves the literal value of the next character that follows, removing any special meaning it has, with the exception of newline. If a \newline pair appears, and the backslash itself is not quoted, the \newline is treated as a line continuation (that is, it is removed from the input stream and effectively ignored).</blockquote>
      </article>
    </main>

    <footer class="site-footer">
      <p>© 2026 takatora</p>
    </footer>

  </div>

</body>
</html>